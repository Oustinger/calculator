(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{11:function(e,t,n){e.exports={input:"Input_input__27qo_",topLine:"Input_topLine__iU4_A",rightLine:"Input_rightLine__1rUFs",numbersInputs:"Input_numbersInputs__tHpn1",button:"Input_button__1l2g3",invert:"Input_invert__33dsx"}},12:function(e,t,n){e.exports={app__wrapper:"App_app__wrapper__3RrYi",app:"App_app__H_brq",app__background:"App_app__background__1s2Vl",app__container:"App_app__container__1tJb9"}},15:function(e,t,n){e.exports={output:"Output_output__bVBha",error:"Output_error__30KkT",input:"Output_input__1mCES"}},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),u=n.n(c),i=(n(29),n(10)),o=n(2),l=n(13),s=n(23),p=n(12),h=n.n(p),b=n(24),O=n.n(b),f=n(11),j=n.n(f),v=n(1),m=function(e){var t=e.symbol,n=e.func,r=e.isInvert;return Object(v.jsx)("div",{"data-symbol":t,className:O()(j.a.button,Object(i.a)({},j.a.invert,r)),onClick:function(e){return n(e.currentTarget.dataset.symbol)},children:t})},d=function(e){return Object(v.jsx)(m,Object(o.a)({},e),e.symbol)},y=function(e){var t=e.topLineBlockOpers,n=e.rightColumnBlockOpers,r=e.numbersInputsBlockOpers;return Object(v.jsxs)("div",{className:j.a.input,children:[Object(v.jsx)("div",{className:j.a.topLine,children:t.map(d)}),Object(v.jsx)("div",{className:j.a.rightLine,children:n.map(d)}),Object(v.jsx)("div",{className:j.a.numbersInputs,children:r.map(d)})]})},g=n(15),x=n.n(g),k=function(e){var t=e.expression,n=e.inputVal,r=e.error,a=e.onInputChange;return Object(v.jsxs)("div",{className:x.a.output,children:[Object(v.jsx)("div",{className:x.a.expression,children:t}),Object(v.jsx)("input",{className:x.a.input,value:n,onChange:a}),Object(v.jsx)("span",{className:x.a.error,children:r})]})},E=n(8),_=function(e){return"number"===typeof e&&isFinite(e)},N=n(3),w=n(4),B=n(9),C=n(5),S=n(7),I=n(6),L=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(N.a)(this,e),this.symbol=t,this.exSymbols=n}return Object(w.a)(e,[{key:"getSymbol",value:function(){return this.symbol}},{key:"getExSymbols",value:function(){return this.exSymbols}},{key:"getMathCorrectSymbol",value:function(){return this.symbol}},{key:"checkIsOperation",value:function(e){return this.symbol===e||this.exSymbols.includes(e)}}]),e}(),A=function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(e,r){var a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object(N.a)(this,n),(a=t.call(this,e,c)).canBePlacedAfterOtherOperation=!1,a.canBePlacedBeforeOtherOperation=!1,a.hasOwnFullCalculateFunc=!1,a.priority=r,a}return Object(w.a)(n,[{key:"parseCheck",value:function(e,t){this.argumentsNotFound(e,t)}},{key:"getRightNum",value:function(e,t){var n=t+1,r=n<e.length&&_(e[n]);return{rightNum:r?e[n]:null,isExistRightNum:r}}},{key:"getLeftNum",value:function(e,t){var n=t-1,r=n>=0&&_(e[n]);return{leftNum:r?e[n]:null,isExistLeftNum:r}}},{key:"getPrevExprElem",value:function(e,t){var n=t-1,r=n>=0;return{prevExprElem:r?e[n]:null,isExistPrevExprElem:r}}},{key:"getNextExprElem",value:function(e,t){var n=t+1,r=n<e.length;return{nextExprElem:r?e[n]:null,isExistNextExprElem:r}}},{key:"argumentsNotFound",value:function(e,t){var n=this.getPrevExprElem(e,t),r=n.prevExprElem,a=n.isExistPrevExprElem,c=this.getNextExprElem(e,t),u=c.nextExprElem,i=c.isExistNextExprElem;if(!a&&!i||!(_(r)||this.canBePlacedAfterOtherOperation||u&&u.canBePlacedBeforeOtherOperation)&&!(_(u)||this.canBePlacedBeforeOtherOperation||u&&u.canBePlacedAfterOtherOperation))throw new Error("Arguments not found")}},{key:"stepByStepOperations",value:function(e,t){var n=this.getPrevExprElem(e,t).prevExprElem,r=this.getNextExprElem(e,t).nextExprElem;if(n&&!_(n)&&(!n.canBePlacedBeforeOtherOperation||this.canBePlacedAfterOtherOperation)||r&&!_(r)&&(!r.canBePlacedAfterOtherOperation||this.canBePlacedBeforeOtherOperation))throw new Error("There are operations that cannot be performed step by step")}}]),n}(L),P={addition:new(function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"calculate",value:function(e,t){return(null!==e?e:0)+(null!==t?t:0)}},{key:"parseCheck",value:function(e,t){Object(B.a)(Object(C.a)(n.prototype),"parseCheck",this).call(this,e,t),this.stepByStepOperations(e,t)}}]),n}(A))("+",0),division:new(function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"calculate",value:function(e,t){return(null!==e?e:1)/(null!==t?t:1)}},{key:"checkArg",value:function(e){return 0!==e}},{key:"parseCheck",value:function(e,t){Object(B.a)(Object(C.a)(n.prototype),"parseCheck",this).call(this,e,t);var r=this.getRightNum(e,t).rightNum;this.stepByStepOperations(e,t),this.divideByZero(r)}},{key:"divideByZero",value:function(e){if(0===e)throw new Error("You cannot divide by zero")}}]),n}(A))("/",1),multiplication:new(function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"calculate",value:function(e,t){return(null!==e?e:1)*(null!==t?t:1)}},{key:"parseCheck",value:function(e,t){Object(B.a)(Object(C.a)(n.prototype),"parseCheck",this).call(this,e,t),this.stepByStepOperations(e,t)}}]),n}(A))("\xd7",1,["*"]),percent:new(function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){var e;Object(N.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).canBePlacedBeforeOtherOperation=!0,e.hasOwnFullCalculateFunc=!0,e}return Object(w.a)(n,[{key:"calculate",value:function(e,t,n){if(!(1<=n&&n<=3)){var r=n-2,a=[t(e.slice(0,r),0)].concat(Object(E.a)(e.slice(r)));return this.calculate(a,t,3)}var c=n-3,u=n-1,i=(c>=0&&_(e[c])?e[c]:1)/100*e[u];return[].concat(Object(E.a)(e.slice(0,u)),[i],Object(E.a)(e.slice(n+1)))}},{key:"parseCheck",value:function(e,t){Object(B.a)(Object(C.a)(n.prototype),"parseCheck",this).call(this,e,t);var r=this.getRightNum(e,t).isExistRightNum;this.rightNumMustNotBe(r)}},{key:"rightNumMustNotBe",value:function(e){if(e)throw new Error("The percent operation mustn't has a number on the right")}}]),n}(A))("%",2),squareRoot:new(function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){var e;Object(N.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).canBePlacedAfterOtherOperation=!0,e.canBePlacedBeforeOtherOperation=!0,e}return Object(w.a)(n,[{key:"calculate",value:function(e,t){return(null!==e?e:1)*Math.pow(t,.5)}},{key:"checkArg",value:function(e){return e>=0}},{key:"parseCheck",value:function(e,t){Object(B.a)(Object(C.a)(n.prototype),"parseCheck",this).call(this,e,t);var r=this.getLeftNum(e,t).isExistLeftNum,a=this.getRightNum(e,t).isExistRightNum;this.rightNumMustBe(a),this.leftExprMustNotBeNum(r)}},{key:"rightNumMustBe",value:function(e){if(!e)throw new Error("The square root operation need an argument on the right")}},{key:"leftExprMustNotBeNum",value:function(e){if(e)throw new Error("The square root operation mustn't has any number on the left")}}]),n}(A))("\u221a",2),subtraction:new(function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"calculate",value:function(e,t){return(null!==e?e:0)-(null!==t?t:0)}},{key:"parseCheck",value:function(e,t){Object(B.a)(Object(C.a)(n.prototype),"parseCheck",this).call(this,e,t),this.stepByStepOperations(e,t)}}]),n}(A))("-",0)},F=function(e){return Object.values(P).find((function(t){return t.checkIsOperation(e)}))},R=new L("8"),T=new L("5"),M=new L("4"),V=new L("9"),q=new L("1"),U=new L("7"),D=new L("6"),Y=new L("3"),Z=new L("2"),z={zero:new L("0"),one:q,two:Z,three:Y,four:M,five:T,six:D,seven:U,eight:R,nine:V,doubleZero:new L("00"),comma:new(function(e){Object(S.a)(n,e);var t=Object(I.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"getMathCorrectSymbol",value:function(){return this.exSymbols[0]}}]),n}(L))(",",["."])},J=function(e){return Object.values(z).find((function(t){return t.checkIsOperation(e)}))},H=function(e){var t=e.split("").reduce((function(e,t,n,r){var a=J(t);if(a){var c=a.getMathCorrectSymbol(),u=e.length-1,i=e[u],o=!!J(r[n+1]);if(_(Number.parseFloat(i))){var l=i+c,s=e.slice(0,u);return[].concat(Object(E.a)(s),o?[l]:[Number.parseFloat(l)])}return[].concat(Object(E.a)(e),o?[c]:[Number.parseFloat(c)])}var p=F(t);if(p)return[].concat(Object(E.a)(e),[p]);throw new Error('Unknown symbol: " '.concat(t,' "'))}),[]);try{return t.forEach((function(e,n){return _(e)?null:e.parseCheck(t,n)})),t}catch(n){throw n}},X=function(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(1===t.length)return t[0];if(n===t.length){var c=t[a];if(c.hasOwnFullCalculateFunc){var u=c.calculate(t,e,a);return e(u,0)}var i=a-1,o=i>=0&&_(t[i]),l=o?t[i]:null,s=a+1,p=s<n&&_(t[s]),h=p?t[s]:null,b=c.calculate(l,h),O=[].concat(Object(E.a)(t.slice(0,o?i:i+1)),[b],Object(E.a)(t.slice(p?s+1:s)));return e(O,0)}var f=t[n],j=_(f);if(j)return e(t,n+1,r,a);var v=f.priority;return v>r?e(t,n+1,v,n):e(t,n+1,r,a)}(H(e),0).toString().split("").map((function(e){return"."===e?",":e})).reduce((function(e,t){return"".concat(e).concat(t)}))},K=new L("C"),G=new L("="),Q="calcReducer/SET_INPUT",W="calcReducer/ADD_SYMBOL",$="calcReducer/CLEAN",ee="calcReducer/CALCULATE",te="calcReducer/DELETE_LAST_SYMBOL",ne={input:"",expression:null,numbersInputs:z,defaultOperations:{clean:K,calculate:G},calcOperations:P,error:null},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(o.a)(Object(o.a)({},e),t.payload);case W:return Object(o.a)(Object(o.a)({},e),{},{input:"".concat(e.input).concat(t.symbol)});case $:return Object(o.a)(Object(o.a)({},e),{},{input:"",expression:null,error:null});case te:return Object(o.a)(Object(o.a)({},e),{},{input:e.input.slice(0,e.input.length-1)});case ee:try{var n=e.input,r=X(n);return Object(o.a)(Object(o.a)({},e),{},{input:r,expression:n,error:null})}catch(a){return Object(o.a)(Object(o.a)({},e),{},{error:a.message})}default:return e}},ae=n(18),ce=function(e){return e.calc.input},ue=function(e){return e.calc.expression},ie=function(e){return e.calc.error},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{symbol:e,exSymbols:t,funcName:n||"addSymbol",isInvert:r}},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(e).reduce((function(e,n){var r=Object(l.a)(n,2),a=r[0],c=r[1];return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},a,oe(c.getSymbol(),c.getExSymbols(),t[a]?t[a].funcName:null,t[a]?t[a].isInvert:null)))}),{})},se=Object(ae.a)((function(e){return e.calc.numbersInputs}),(function(e){return le(e)})),pe=Object(ae.a)((function(e){return e.calc.defaultOperations}),(function(e){return le(e,{clean:{funcName:"clean"},calculate:{funcName:"calculate",isInvert:!0}})})),he=Object(ae.a)((function(e){return e.calc.calcOperations}),(function(e){return le(e)})),be=n(19),Oe=Object(be.a)({calc:re}),fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.b,je=Object(be.c)(Oe,fe()),ve=function(e,t){return Object.entries(e).reduce((function(e,n){var r=Object(l.a)(n,2),a=r[0],c=r[1],u=Object.entries(t).find((function(e){return Object(l.a)(e,1)[0]===c.funcName}))[1],s=Object(o.a)(Object(o.a)({},c),{},{func:u});return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},a,s))}),{})},me=function(e,t){return Object.values(t).forEach((function(t){return t.symbol===e||t.exSymbols.includes(e)?t.func(t.symbol):null}))},de=Object(s.b)((function(e){return{inputVal:ce(e),expression:ue(e),error:ie(e),numbersInputs:se(e),defaultOperations:pe(e),calcOperations:he(e)}}),(function(e){return{setInput:function(t){return e({type:Q,payload:{input:t}})},inputFuncs:{addSymbol:function(t){return e(function(e){return{type:W,symbol:e}}(t))},calculate:function(){return e({type:ee})},clean:function(){return e({type:$})},deleteLastSymbol:function(){return e({type:te})}}}}))((function(e){var t=function(e,t,n,r){var a=ve(e,r),c=a.clean,u=a.calculate,i=ve(t,r),o=i.addition,l=i.division,s=i.multiplication,p=i.percent,h=i.squareRoot,b=i.subtraction,O=ve(n,r),f=O.zero,j=O.one,v=O.two,m=O.three,d=O.four,y=O.five,g=O.six;return[[c,h,p],[l,s,b,o,u],[O.seven,O.eight,O.nine,d,y,g,m,v,j,O.doubleZero,f,O.comma]]}(e.defaultOperations,e.calcOperations,e.numbersInputs,e.inputFuncs),n=Object(l.a)(t,3),c=n[0],u=n[1],i=n[2],o=a.a.createRef(),s=function(t){"Enter"!==t.key?t.currentTarget===t.target?"Backspace"!==t.key?(me(t.key,c),me(t.key,u),me(t.key,i)):e.inputFuncs.deleteLastSymbol():t.stopPropagation():e.inputFuncs.calculate()};return Object(r.useEffect)((function(){var e=o.current;return e.focus(),e.addEventListener("keyup",s),function(){e.removeEventListener("keyup",s)}}),[o,s]),Object(v.jsx)("div",{ref:o,className:h.a.app__wrapper,tabIndex:1,children:Object(v.jsx)("div",{className:h.a.app,children:Object(v.jsx)("div",{className:h.a.app__background,children:Object(v.jsxs)("div",{className:h.a.app__container,children:[Object(v.jsx)(k,{expression:e.expression,inputVal:e.inputVal,error:e.error,onInputChange:function(t){return e.setInput(t.currentTarget.value)}}),Object(v.jsx)(y,{numbersInputsBlockOpers:i,topLineBlockOpers:c,rightColumnBlockOpers:u})]})})})})})),ye=function(){return Object(v.jsx)(s.a,{store:je,children:Object(v.jsx)(de,{})})};u.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(ye,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.594239f6.chunk.js.map